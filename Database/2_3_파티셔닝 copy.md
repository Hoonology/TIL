# 대용량의 데이터 - 파티셔닝

# INDEX
- [대용량 데이터를 처리하기 위해 데이터셋을 자른다.](#대용량-데이터를-처리하기-위해-데이터셋을-자른다)
- [파티셔닝의 목적](#파티셔닝의-목적)
    - [1. 확장성](#1-u확장성u--디스크-분산---질의-부하-분산)
    - [2. 쏠림현상 방지](#2-u쏠림현상-방지를-위한-시도u)
        - [고른 분포](#고른-분포)




---
<br>

## 대용량 데이터를 처리하기 위해 데이터셋을 자른다.
데이터셋이 큰 경우 + 쿼리 처리량이 매우 높은 경우 -> 단순 복제는 어렵다.  
> 파티션 = 작은 데이터베이스  
파티션으로 쪼갠다. ( 샤딩(Sharding) 한다. )  

<br>

## 파티셔닝의 목적 
### 1. <u>**확장성**</u> = 디스크 분산 -> 질의 부하 분산
> 데이터베이스 확장 -> 대용량의 데이터베이스 => 프로세스를 처리할 필요성 증대  

- 파티셔닝을 통해 <u>데이터베이스를 작은 범위로 나누고</u>, 요청 받은 데이터에 해당하는 파티션에만 접근하여 정보를 조회 = <u>성능 저하 방지</u>

<br>

### 2. <u>**쏠림현상 방지를 위한 시도**</u>
> 일반적으로 파티셔닝과 복제(Replica)는 함께 사용된다. ( 각 파티션의 복사본을 여러 노드에 저장 ) = 쏠림현상 방지   

**쏠림현상**
- 4개의 노드를 생성하면
    - 4배의 데이터 저장, 4배의 읽고 쓰는 처리 작업
    - 특정한 패턴으로 하나의 노드에 요청이 쏠리는 현상 -> 파티셔닝 효과 급감
    - 4개 중 3개의 노드가 놀게 된다. -> 높고 불균형한 부하 -> 핫스팟 발생


#### **고른 분포**
1. 노드 무작위 선택 
2. 키 범위 기준으로 파티셔닝
3. 해시값 기준 파티셔닝  

![파티셔닝](./assets/%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D.png)


